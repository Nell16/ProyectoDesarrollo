<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">
    <head th:replace="plantilla/template::head"></head>
    <body>

        <header th:replace="plantilla/template::header"></header>
        <div class="Formulario">
            <div class="formulario">      
                <h1 th:text="#{comentario.info}"></h1>
                <form th:object ="${comentarioN}"
                      th:action ="@{/saveC}"
                      method="POST" 
                      >
                    <input type="hidden" th:field="*{ID}">
                        <p>
                            <label for="Usuario" class="colocar_nombre" th:text="#{comentario.nombre}">
                                <span class="obligatorio">*</span>
                            </label>
                            <input type="text" th:field="*{Nombre}" name="introducir_nombre" id="Nombre" 
                                   required="obligatorio">
                        </p>
                        <p>
                            <label for="Comentario" class="colocar_comentario" th:text="#{comentario.texto}">
                                <span class="obligatorio">*</span>
                            </label>                     
                            <textarea name="introducir_comentario"th:field="*{Comentario}" class="texto_mensaje" id="Comentario" 
                                      required="obligatorio"></textarea> 
                        </p>                    
                        <button type="submit" name="enviar_formulario" id="enviar"><p class="btn btn-dark btn-lg" type="submit" th:text="#{comentario.enviar}"></p></button>
                        <p class="aviso">
                            <span class="obligatorio" th:text="#{accion.obligatorio}"></span>
                        </p>          
                </form>
            </div>  
        </div>
        <div class="Container">
            <h1 th:text="${titulo}"></h1>
            <table class="table table-dark table-striped"> <thead class="thead-dark">
                    <tr>
                        <th scope="col">Nombre</th>
                        <th scope="col">Comentario</th>         

                    </tr>
                </thead>
                <tbody>
                    <th:block th:each="user : ${comentario}">
                        <tr>
                            <td th:text="${user.getNombre}"></td>
                            <td th:text="${user.getComentario}"></td>

                        </tr>
                    </th:block>
                </tbody>
            </table>
        </div>

        <section class="py-4 mb-4 bg-light">
            <div class="container">
                <div class="row">
                    <div class="col-md-3" sec:authorize="hasRole('ROLE_ADMIN')">
                        <a sec:authorize="hasRole('ROLE_ADMIN')" th:text="#{accion.reportecomentarios}" th:href="@{/leercomentarios/Comentarios}"
                           class="btn btn-dark">
                            <i class="fas fa-file"></i>  </a>
                    </div>
                </div>
            </div>
        </section>
        <footer th:replace="plantilla/template::footer"></footer>
    </body>
</html>
